/*!
 @package noty - jQuery Notification Plugin
 @version version: 2.2.5
 @contributors https://github.com/needim/noty/graphs/contributors

 @documentation Examples and Documentation - http://needim.github.com/noty/

 @license Licensed under the MIT licenses: http://www.opensource.org/licenses/mit-license.php
 */

define("Shared/Common/Modal/adult",["Shared/Common/Modal"],function(e){var t=function(t){var n="#adult-popin";t&&e.start({content:$(n)[0],closeButton:!1,exitOnEscapte:!1,modalAutoHide:!1,modalOpacity:.95,onLoaded:function(t){t.on("click","#close_popup",function(t){var n=$(this).attr("href");return $.ajax({url:n,type:"POST",success:function(){e.stop()}}),!1})}})};return t}),define("Shared/Common/Modal/subscription",["Shared/Common/Modal"],function(e){var t="#subscription_popin",n=function(){var n=$(t);n.length>0&&e.start({content:n[0]})};return n}),define("Shared/Common/activeWindow",["Modules/Common"],function(){var e=function(){function t(t){var n=!1,r="visible",i="hidden",s={focus:r,focusin:r,pageshow:r,blur:i,focusout:i,pagehide:i};t=t||window.event,t.type in s?n=s[t.type]===r:n=!this[e],n?$.$body.addClass("active"):$.$body.removeClass("active")}var e="hidden";e in document?document.addEventListener("visibilitychange",t):(e="mozHidden")in document?document.addEventListener("mozvisibilitychange",t):(e="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",t):(e="msHidden")in document?document.addEventListener("msvisibilitychange",t):"onfocusin"in document?document.onfocusin=document.onfocusout=t:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=t,t({type:document.visibilityState=="visible"?"focus":"blur"})};return e}),define("Shared/Common/userCounter",["require","Modules/Common","Shared/Common/activeWindow"],function(e){var t=e("Shared/Common/activeWindow"),n="/Stat/ViewProduct/",r=3,i=function(e){_.bindAll(this,"_count"),this._nbSecond=0,this._url=n+e.productId,new t,this._handler=setInterval(this._count,1e3)};return i.prototype._count=function(){$.$body.hasClass("active")&&(this._nbSecond++,this._nbSecond===r&&this._send())},i.prototype._send=function(){clearInterval(this._handler),$.ajax({url:this._url,type:"POST",data:{embed:$.$body.hasClass("embed")}})},i}),define("Controller/Product/Page/Rate",["require","Modules/Common"],function(e){function n(){_.bindAll(this,"_submitted","_beforeSubmit","_selectRate","_enterHoverRate","_leaveHoverRate"),this._$formRating=$(".product_rate_form"),this._$rates=this._$formRating.find(".vote"),this._$messages=this._$formRating.find(".messages"),this._$nbRate=$(".ratingCount"),this._$stats=$(".product-stats").last(),this._$statAvg=this._$stats.find("#product_avg_score"),this._$statTitle=this._$stats.find(".product-stats-value"),this._$formRating.on("beforeSubmit",this._beforeSubmit),this._$formRating.on("submitted",this._submitted),this._$rates.on("click",this._selectRate),this._$rates.on("mouseenter",this._enterHoverRate),this._$rates.on("mouseleave",this._leaveHoverRate),this._defaultRateHandler=null,this._changeDisplayRate(this._$formRating.data("avg-score")-1)}var t=e("Shared/Common/Modal");return n.prototype._beforeSubmit=function(){return this._$formRating.data("authenticated")?!0:(t.start({url:"/Account/Login/LogOn?returnUrl=/Product/Index/"+this._$formRating.data("product-id")}),!1)},n.prototype._selectRate=function(e){var t=$(e.currentTarget).attr("data-vote");this._$formRating.find("#product_score").valWithChange(t),this._$formRating.submit()},n.prototype._submitted=function(e,t){var n=this._$messages;setTimeout(function(){n.fadeOut()},2e3),t.nbVotes!==0&&(this._$nbRate.html("("+t.nbVotes+")"),this._$statTitle.prop("title",t.nbVotes+" vote(s)"),this._$statTitle.find("span").html(t.nbVotes),this._$statAvg.attr("class","positiv_"+t.avgScore)),this._$formRating.addTracking("Product","Vote",t.productTitle+"-"+t.productId,t.vote)},n.prototype._enterHoverRate=function(e){var t=$(e.currentTarget).index();this._changeDisplayRate(t)},n.prototype._leaveHoverRate=function(e){this._changeDisplayRate(this._$formRating.data("avg-score")-1,500)},n.prototype._changeDisplayRate=function(e,t){function r(){var t=n.filter(":gt("+e+")");t.removeClass("positiv_one").addClass("negativ_one"),n.not(t).removeClass("negativ_one").addClass("positiv_one")}var n=this._$rates;t=t||0,window.clearTimeout(this._defaultRateHandler),this._defaultRateHandler=window.setTimeout(r,t)},n}),define("Controller/Product/Page/Download",["require"],function(){function n(){$.$body.on("click",e,this._editDownloadUrl)}var e=".product-actions .download_document",t=".product-actions input[name=format]:checked";return n.prototype._editDownloadUrl=function(){var e=$.$body.find(t).val(),n=$(this).attr("href")+encodeURIComponent("?format="+e);$(this).attr("href",n)},n}),define("Controller/Product/Page/Description",["require"],function(e){function t(){_.bindAll(this,"_display"),this._$ctn=$(".product-main-infos-content"),this._$content=this._$ctn.find(".doc-descr-txt"),this._$moreCtn=this._$ctn.find(".read_more"),this._$subCtn=this._$ctn.find(".product-main-infos-subcontent"),this._$moreCtn.on("click","span",this._display)}return t.prototype._haveToCut=function(){var e=this._$content.find(".subcontainer").height(),t=this._$content.height();return e>t},t.prototype._display=function(e){e.preventDefault();var t=$(e.currentTarget);t.hasClass("read_more_open_txt")?(this._$content.css({height:"auto","white-space":"normal"}),this._$subCtn.show(),this._$moreCtn.find(".read_more_close_txt").show()):(this._$content.css({height:"","white-space":""}),this._$subCtn.hide(),this._$moreCtn.find(".read_more_open_txt").show()),t.hide()},t}),define("Controller/Product/Page/Comment",["require","Shared/Common/TextareaHelper"],function(e){var t=e("Shared/Common/TextareaHelper"),n=function(){_.bindAll(this,"_commentSent","_checkNewCommentContent","_commentsLoaded","_showComment","_replySent","_showReplyForm","_loadReplyForm","_repliesLoaded");var e=$("#product-comments-ctn"),t=e.find("#product-comment-send");this._$commentList=e.find("#product-comment-list-ctn"),this._$mainCommentForm=t.find("#send_comment_form"),this._$replyTemplate=$("#sendReplyCommentTemplate"),this._userInfo={name:t.find(".comment-user-infos a span").html(),url:t.find(".comment-user-infos a").prop("href"),imageUrl:t.find(".comment-user-avatar img").prop("src")},$.$body.on("beforeSubmit","#send_comment_form",this._checkNewCommentContent),$.$body.on("submitted","#send_comment_form",this._commentSent),$.$body.on("beforeSubmit",".send_reply_comment_form",this._checkNewCommentContent),$.$body.on("beforeSubmit",".send_reply_comment_form",this._hideSubmitBtn),$.$body.on("submitted",".send_reply_comment_form",this._replySent),$.$body.on("submitted",".comment_delete",this._commentDeleted),$.$body.on("beforeSubmit","#comments_page_link a",this._hideSubmitBtn),$.$body.on("submitted","#comments_page_link a",this._commentsLoaded),$.$body.on("beforeSubmit",".reply_page .morecomment a",this._hideSubmitBtn),$.$body.on("submitted",".reply_page .morecomment a",this._repliesLoaded),$.$body.on("click",".reply",this._showReplyForm)};return n.prototype._checkNewCommentContent=function(){var e=this._$mainCommentForm.find("textarea");return e.trigger("focus"),!0},n.prototype._hideSubmitBtn=function(){var e=$(this).is("a")?$(this).parent():$(this).find(".submit");return e.hide(),!0},n.prototype._commentsLoaded=function(e,t){var n=$(e.currentTarget),r=n.parents("#comments_page_link"),i=r.find('[name="page"]'),s={type:"comment",action:"append",$ctn:this._$commentList,$btn:n,$pageInput:i,page:t.page,lastPage:t.endPage};this._elementsloaded("comments",t,s)},n.prototype._repliesLoaded=function(e,t){var n=$(e.currentTarget).parent(),r=n.parents(".reply_page"),i=r.parents(".product-comment-msg-ctn").find(".reply_list"),s=r.find('[name="page"]'),o={type:"reply",action:"append",$ctn:i,$btn:n,$pageInput:s,page:t.page,lastPage:t.endPage};this._elementsloaded("replies",t,o)},n.prototype._elementsloaded=function(e,t,n){n.page===n.lastPage?n.$btn.hide().remove():n.$btn.show(),n.$pageInput.val(n.page+1),_.each(t[e],function(e){this._showComment(e,n)},this)},n.prototype._commentSent=function(e,t){this._showComment(t,{type:"comment",action:"prepend",$ctn:this._$commentList});var n=this._$mainCommentForm.find("textarea");n.valWithChange("","focusout"),this._$mainCommentForm.find('input[type="submit"]').focus(),$(e.currentTarget).addTracking("Product","Comment",t.productTitle+"-"+t.productId,t.length)},n.prototype._replySent=function(e,t){var n=$(e.currentTarget),r=n.parents(".product-comment-msg-ctn"),i=r.find(".reply_list"),s=r.find(".morecomment"),o=r.find(".reply");s.length===0&&this._showComment(t.comment,{type:"reply",action:"append",$ctn:i}),o.fadeIn(),n.parents("#product-comment-reply").fadeOut().remove()},n.prototype._showComment=function(e,t){var n=t.type==="comment"?$("#commentTemplate"):$("#commentReplyTemplate"),r=n.tmpl(e).hide();t.$ctn[t.action](r),r.fadeIn("slow")},n.prototype._commentDeleted=function(){var e=$(this).parents(".product-comment-msg");e.parent().is(".product-comment-msg-ctn")&&(e=e.parent()),e.fadeOut(function(){$(this).remove()})},n.prototype._showReplyForm=function(e){e.preventDefault();var t="#product-comment-reply",n=$(e.currentTarget),r=this._$commentList.find(".reply").not(n),i=this._loadReplyForm;r.fadeIn();var s=$(t);s.length>0?s.fadeOut(function(){$(this).remove(),i(n)}):i(n),n.hide()},n.prototype._loadReplyForm=function(e){var n=e.parents(".product-comment-msg-ctn"),r=_.extend(this._userInfo,{commentId:e.data("comment-id"),productId:e.data("product-id")}),i=this._$replyTemplate.tmpl(r).hide();n.append(i),i.fadeIn(),t.bind(i)},n}),define("Controller/Product/Page/Related",["require"],function(e){var t=function(){this._$previousBtn=$(".suggest_nav_previous"),this._$nextBtn=$(".suggest_nav_next"),this._$previousBtn.on("submitted",_.bind(this._loadRelated,this,"previous")),this._$nextBtn.on("submitted",_.bind(this._loadRelated,this,"next"))};return t.prototype._loadRelated=function(e,t,n){var r=$(t.currentTarget),i=r.parents(".doc-suggest-ctn").find(".doc-suggest-subctn");this._loadProducts(n,i),n.page!==0&&n.page!==n.endPage&&this._updatePageInput(e),this._displayArrow(n.page,n.endPage)},t.prototype._loadProducts=function(e,t){var n=$("#suggestionTemplate").tmpl(e.products,{page:e.page}).hide(),r=t.children();r.fadeOut(function(){r.remove(),t.append(n),n.show()})},t.prototype._updatePageInput=function(e){var t=this._$previousBtn.find("input"),n=this._$nextBtn.find("input");e==="previous"?(t.val(parseInt(t.val())-1),n.val(parseInt(n.val())-1)):(t.val(parseInt(t.val())+1),n.val(parseInt(n.val())+1))},t.prototype._displayArrow=function(e,t){this._$previousBtn.fadeIn(),this._$nextBtn.fadeIn(),e===0&&this._$previousBtn.fadeOut(),e===t&&this._$nextBtn.fadeOut()},t}),define("Shared/Reader/Popin",["require","Shared/Library/addProduct","Shared/Social","Shared/Common/SmoothLabel","Shared/Common/TextareaHelper","Shared/Embed"],function(e,t,n,r,i,s){function o(e){_.bindAll(this,"_bindEvents","_popinRendered","_popinUnbindAutoClose","_popinBindAutoClose"),this._sandbox=e,this._bindEvents()}return o.prototype._bindEvents=function(){this._sandbox.on("reader.popin.close",this._popinUnbindAutoClose),this._sandbox.on("reader.popin.clear",this._popinUnbindAutoClose),this._sandbox.on("reader.popin.rendered",this._popinRendered)},o.prototype._popinUnbindAutoClose=function(){$.$body.off("click.popin")},o.prototype._popinRendered=function(e){$.validator.unobtrusive.parse(e.$content);if(e.type==="library")t.bind(e.$content);else if(e.type==="mail")r.bind(e.$content),i.bind(e.$content);else if(e.type==="embed")new s(e.options);else if(e.type==="login"){e.$content.find(".ys_98567_reader_nav_options_close").remove();var n=e.$content.find("form");n.addClass("ajax_submit").on("submitted",_.bind(this._sandbox.emit,this,"popin.logged"))}this._popinBindAutoClose()},o.prototype._popinBindAutoClose=function(){$.$body.on("click.popin",function(){sandbox.emit("reader.popin.close")}),$.$body.on("click.popin",".ys_98567_reader_navbar_options",function(e){e.target.tagName!=="A"&&e.stopPropagation()})},o}),define("Controller/Product/Page/ReaderAddOn",["Shared/Reader/Popin","Shared/Common/registerTracking"],function(e,t){function n(e){_.bindAll(this,"_bindEvents","_checkFixedPosition","_stickyBlock","_readerDisplayChanged","_goFullScreen"),this._options=e,this._waitReady()}return n.prototype._waitReady=function(){var e=document.addEventListener||document.attachEvent;e.apply(document,["reader.sandbox.created",this._bindEvents])},n.prototype._bindEvents=function(){this._sandbox=window.sandbox,this._$containerProd=$(".str-container-prod"),this._$side=$(".ProductPage .str-side"),this._$lastLeftBox=this._$side.find("> div:visible").last(),this._$ProductStickyBox=$("#productSticky"),this._$SocialStickyBox=$("#social-box"),this._sandbox.on("reader.resized",this._checkFixedPosition),this._sandbox.on("reader.viewport.display.changed",this._readerDisplayChanged),this._sandbox.on("reader.viewport.scroll",this._stickyBlock),this._sandbox.on("reader.popin.rendered",this._readerPopinRendered),this._sandbox.on("reader.rights.changed",this._rightsChanged),this._stickyOffset=this._$lastLeftBox.offset().top+this._$lastLeftBox.outerHeight(),$(".accessRead").on("click",this._goFullScreen),$(".accessDownload").on("click",this._checkLeadSharing),new e(this._sandbox)},n.prototype._checkLeadSharing=function(e){return $(e.delegateTarget).data("leadsharing")==1?(e.ysSource=e.ysSource||"Download",sandbox.leadSharing.show(e.ysSource),e.preventDefault(),!1):!0},n.prototype._rightsChanged=function(e){e.rights.reading&&($(".accessRead").data("leadsharing",!1),$(".accessDownload").data("leadsharing",!1))},n.prototype._goFullScreen=function(e){e.ysSource="Streaming",this._checkLeadSharing(e)&&this._sandbox.emit("reader.fullscreen.clicked")},n.prototype._readerPopinRendered=function(e){e.type==="login"&&t.SetRegisterTrackingCookie()},n.prototype._readerDisplayChanged=function(){this._stickyBlock({top:0,left:0})},n.prototype._checkFixedPosition=function(){if(this._$ProductStickyBox.css("position")==="fixed"){var e=$(window).scrollLeft();this._$ProductStickyBox.css({left:this._$side.offset().left-e,width:this._$side.width()+"px"});var t=this._$ProductStickyBox.outerHeight(!0);this._$SocialStickyBox.css({top:t+"px",width:this._$side.width()+"px"})}},n.prototype._stickyBlock=function(e){var t=this._$ProductStickyBox.outerHeight(!0);e.top>this._stickyOffset?(this._$ProductStickyBox.css({position:"fixed",top:"0px",left:this._$side.offset().left-e.left+"px",width:this._$side.width(),"z-index":95}).addClass("enable"),this._$SocialStickyBox.css({top:t+"px",position:"fixed",width:this._$side.width()+"px"})):(this._$ProductStickyBox.css({position:"relative",width:"","z-index":0,"margin-top":"0px",left:"",top:""}).removeClass("enable"),this._$SocialStickyBox.css({top:"0px",position:"relative",width:this._$side.width()+"px"}))},n}),define("Controller/Product/Page/Tracking",["require","Modules/Common","Shared/Common/TrackingHelper"],function(){function t(t){this._options=t,$.$body.on("click","a.tracking-sub-button",_.bind(e.addTrackingOnClick,this,{category:"Subscription",action:"ProductButton",label:"Click",value:this._options.trackTheme})),$.$body.on("click","a.tracking-sub-more",_.bind(e.addTrackingOnClick,this,{category:"Subscription",action:"ProductButton",label:"ClickMoreInfo",value:this._options.trackTheme})),$.$body.on("click","a.tracking-sub-extract",_.bind(e.addTrackingOnClick,this,{category:"Subscription",action:"ExtractButton",label:"Click",value:this._options.trackTheme})),$.$body.on("click","a.tracking-sub-more",_.bind(e.addTrackingOnClick,this,{category:"Subscription",action:"ExtractButton",label:"ClickMoreInfo",value:this._options.trackTheme})),$.$body.on("click","a.tracking-buy-extract",_.bind(e.addTrackingOnClick,this,{category:"Product",action:"ExtractBuyButton",label:"Click",value:this._options.trackTheme})),this._trackToaster(this._options.toasterCount),$("a.tracking-sub-button").length>0&&e.addTracking("Subscription","ProductButton","Show",this._options.trackTheme),this._checkExtractButton()}var e=require("Shared/Common/TrackingHelper");return t.prototype._checkExtractButton=function(){$("a.tracking-sub-extract").length>0?e.addTracking("Subscription","ExtractButton","Show",this._options.trackTheme):$("a.tracking-buy-extract").length>0?e.addTracking("Product","ExtractBuyButton","Show",this._options.trackTheme):setTimeout(_.bind(this._checkExtractButton,this),1e3)},t.prototype._trackToaster=function(t){t===1?(e.addTracking("Subscription","ProductPopup","Show",this._options.trackTheme),$.$body.on("click","a.btn.subscr",_.bind(e.addTrackingOnClick,this,{category:"Subscription",action:"ProductPopup",label:"Click",value:this._options.trackTheme}))):t===2&&(e.addTracking("Subscription","ProductToaster","Show",this._options.trackTheme),$.$body.on("click","a.subscr-toaster-btn",_.bind(e.addTrackingOnClick,this,{category:"Subscription",action:"ProductToaster",label:"Click",value:this._options.trackTheme})),$.$body.on("click","a.subscr-toaster-doc",_.bind(e.addTrackingOnClick,this,{category:"Subscription",action:"ProductToaster",label:"ClickProduct",value:this._options.trackTheme})))},t}),define("Shared/Community/Follow",["require","Modules/Common"],function(e){var t=e("Shared/Common/AjaxHelper"),n=function(){this._bindSubscribe()};return n.prototype._bindSubscribe=function(){var e=$(".unfollow a, a.unfollow, a.follow, .follow a");e.on("beforeSubmit",t.callbacks.checkNoTLoginPage),e.on("submitted",this._subscribeSucceed)},n.prototype._subscribeSucceed=function(e,t){var n=$(this),r=n.parents(".user-explore-subscribe");r=r.length>0?r:n,t.type=="follow"?n.addTracking("Account","Follow",t.following.userName):n.addTracking("Account","UnFollow",t.following.userName);var i=t.className!=="follow"?"follow":"unfollow";r.removeClass(i).addClass(t.className),n.find("span").html(t.text),n.attr("href",t.url),n.attr("title",t.title)},n}),typeof Object.create!="function"&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(e){var t={init:function(t){return this.options=e.extend({},e.noty.defaults,t),this.options.layout=this.options.custom?e.noty.layouts.inline:e.noty.layouts[this.options.layout],e.noty.themes[this.options.theme]?this.options.theme=e.noty.themes[this.options.theme]:t.themeClassName=this.options.theme,delete t.layout,delete t.theme,this.options=e.extend({},this.options,this.options.layout.options),this.options.id="noty_"+(new Date).getTime()*Math.floor(Math.random()*1e6),this.options=e.extend({},this.options,t),this._build(),this},_build:function(){var t=e('<div class="noty_bar noty_type_'+this.options.type+'"></div>').attr("id",this.options.id);t.append(this.options.template).find(".noty_text").html(this.options.text),this.$bar=this.options.layout.parent.object!==null?e(this.options.layout.parent.object).css(this.options.layout.parent.css).append(t):t,this.options.themeClassName&&this.$bar.addClass(this.options.themeClassName).addClass("noty_container_type_"+this.options.type);if(this.options.buttons){this.options.closeWith=[],this.options.timeout=!1;var n=e("<div/>").addClass("noty_buttons");this.options.layout.parent.object!==null?this.$bar.find(".noty_bar").append(n):this.$bar.append(n);var r=this;e.each(this.options.buttons,function(t,n){var i=e("<button/>").addClass(n.addClass?n.addClass:"gray").html(n.text).attr("id",n.id?n.id:"button-"+t).appendTo(r.$bar.find(".noty_buttons")).on("click",function(){e.isFunction(n.onClick)&&n.onClick.call(i,r)})})}this.$message=this.$bar.find(".noty_message"),this.$closeButton=this.$bar.find(".noty_close"),this.$buttons=this.$bar.find(".noty_buttons"),e.noty.store[this.options.id]=this},show:function(){var t=this;return t.options.custom?t.options.custom.find(t.options.layout.container.selector).append(t.$bar):e(t.options.layout.container.selector).append(t.$bar),t.options.theme&&t.options.theme.style&&t.options.theme.style.apply(t),e.type(t.options.layout.css)==="function"?this.options.layout.css.apply(t.$bar):t.$bar.css(this.options.layout.css||{}),t.$bar.addClass(t.options.layout.addClass),t.options.layout.container.style.apply(e(t.options.layout.container.selector)),t.showing=!0,t.options.theme&&t.options.theme.style&&t.options.theme.callback.onShow.apply(this),e.inArray("click",t.options.closeWith)>-1&&t.$bar.css("cursor","pointer").one("click",function(e){t.stopPropagation(e),t.options.callback.onCloseClick&&t.options.callback.onCloseClick.apply(t),t.close()}),e.inArray("hover",t.options.closeWith)>-1&&t.$bar.one("mouseenter",function(){t.close()}),e.inArray("button",t.options.closeWith)>-1&&t.$closeButton.one("click",function(e){t.stopPropagation(e),t.close()}),e.inArray("button",t.options.closeWith)==-1&&t.$closeButton.remove(),t.options.callback.onShow&&t.options.callback.onShow.apply(t),t.$bar.animate(t.options.animation.open,t.options.animation.speed,t.options.animation.easing,function(){t.options.callback.afterShow&&t.options.callback.afterShow.apply(t),t.showing=!1,t.shown=!0}),t.options.timeout&&t.$bar.delay(t.options.timeout).promise().done(function(){t.close()}),this},close:function(){if(this.closed)return;if(this.$bar&&this.$bar.hasClass("i-am-closing-now"))return;var t=this;if(this.showing){t.$bar.queue(function(){t.close.apply(t)});return}if(!this.shown&&!this.showing){var n=[];e.each(e.noty.queue,function(e,r){r.options.id!=t.options.id&&n.push(r)}),e.noty.queue=n;return}t.$bar.addClass("i-am-closing-now"),t.options.callback.onClose&&t.options.callback.onClose.apply(t),t.$bar.clearQueue().stop().animate(t.options.animation.close,t.options.animation.speed,t.options.animation.easing,function(){t.options.callback.afterClose&&t.options.callback.afterClose.apply(t)}).promise().done(function(){t.options.modal&&(e.notyRenderer.setModalCount(-1),e.notyRenderer.getModalCount()==0&&e(".noty_modal").fadeOut("fast",function(){e(this).remove()})),e.notyRenderer.setLayoutCountFor(t,-1),e.notyRenderer.getLayoutCountFor(t)==0&&e(t.options.layout.container.selector).remove(),typeof t.$bar!="undefined"&&t.$bar!==null&&(t.$bar.remove(),t.$bar=null,t.closed=!0),delete e.noty.store[t.options.id],t.options.theme.callback&&t.options.theme.callback.onClose&&t.options.theme.callback.onClose.apply(t),t.options.dismissQueue||(e.noty.ontap=!0,e.notyRenderer.render()),t.options.maxVisible>0&&t.options.dismissQueue&&e.notyRenderer.render()})},setText:function(e){return this.closed||(this.options.text=e,this.$bar.find(".noty_text").html(e)),this},setType:function(e){return this.closed||(this.options.type=e,this.options.theme.style.apply(this),this.options.theme.callback.onShow.apply(this)),this},setTimeout:function(e){if(!this.closed){var t=this;this.options.timeout=e,t.$bar.delay(t.options.timeout).promise().done(function(){t.close()})}return this},stopPropagation:function(e){e=e||window.event,typeof e.stopPropagation!="undefined"?e.stopPropagation():e.cancelBubble=!0},closed:!1,showing:!1,shown:!1};e.notyRenderer={},e.notyRenderer.init=function(n){var r=Object.create(t).init(n);return r.options.killer&&e.noty.closeAll(),r.options.force?e.noty.queue.unshift(r):e.noty.queue.push(r),e.notyRenderer.render(),e.noty.returns=="object"?r:r.options.id},e.notyRenderer.render=function(){var t=e.noty.queue[0];e.type(t)==="object"?t.options.dismissQueue?t.options.maxVisible>0?e(t.options.layout.container.selector+" li").length<t.options.maxVisible&&e.notyRenderer.show(e.noty.queue.shift()):e.notyRenderer.show(e.noty.queue.shift()):e.noty.ontap&&(e.notyRenderer.show(e.noty.queue.shift()),e.noty.ontap=!1):e.noty.ontap=!0},e.notyRenderer.show=function(t){t.options.modal&&(e.notyRenderer.createModalFor(t),e.notyRenderer.setModalCount(1)),t.options.custom?t.options.custom.find(t.options.layout.container.selector).length==0?t.options.custom.append(e(t.options.layout.container.object).addClass("i-am-new")):t.options.custom.find(t.options.layout.container.selector).removeClass("i-am-new"):e(t.options.layout.container.selector).length==0?e("body").append(e(t.options.layout.container.object).addClass("i-am-new")):e(t.options.layout.container.selector).removeClass("i-am-new"),e.notyRenderer.setLayoutCountFor(t,1),t.show()},e.notyRenderer.createModalFor=function(t){if(e(".noty_modal").length==0){var n=e("<div/>").addClass("noty_modal").addClass(t.options.theme).data("noty_modal_count",0);t.options.theme.modal&&t.options.theme.modal.css&&n.css(t.options.theme.modal.css),n.prependTo(e("body")).fadeIn("fast")}},e.notyRenderer.getLayoutCountFor=function(t){return e(t.options.layout.container.selector).data("noty_layout_count")||0},e.notyRenderer.setLayoutCountFor=function(t,n){return e(t.options.layout.container.selector).data("noty_layout_count",e.notyRenderer.getLayoutCountFor(t)+n)},e.notyRenderer.getModalCount=function(){return e(".noty_modal").data("noty_modal_count")||0},e.notyRenderer.setModalCount=function(t){return e(".noty_modal").data("noty_modal_count",e.notyRenderer.getModalCount()+t)},e.fn.noty=function(t){return t.custom=e(this),e.notyRenderer.init(t)},e.noty={},e.noty.queue=[],e.noty.ontap=!0,e.noty.layouts={},e.noty.themes={},e.noty.returns="object",e.noty.store={},e.noty.get=function(t){return e.noty.store.hasOwnProperty(t)?e.noty.store[t]:!1},e.noty.close=function(t){return e.noty.get(t)?e.noty.get(t).close():!1},e.noty.setText=function(t,n){return e.noty.get(t)?e.noty.get(t).setText(n):!1},e.noty.setType=function(t,n){return e.noty.get(t)?e.noty.get(t).setType(n):!1},e.noty.clearQueue=function(){e.noty.queue=[]},e.noty.closeAll=function(){e.noty.clearQueue(),e.each(e.noty.store,function(e,t){t.close()})};var n=window.alert;e.noty.consumeAlert=function(t){window.alert=function(n){t?t.text=n:t={text:n},e.notyRenderer.init(t)}},e.noty.stopConsumeAlert=function(){window.alert=n},e.noty.defaults={layout:"top",theme:"defaultTheme",type:"alert",text:"",dismissQueue:!0,template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:500},timeout:!1,force:!1,modal:!1,maxVisible:5,killer:!1,closeWith:["click"],callback:{onShow:function(){},afterShow:function(){},onClose:function(){},afterClose:function(){},onCloseClick:function(){}},buttons:!1},e(window).on("resize",function(){e.each(e.noty.layouts,function(t,n){n.container.style.apply(e(n.container.selector))})})}(jQuery),window.noty=function(t){return jQuery.notyRenderer.init(t)},function(e){e.noty.layouts.bottom={name:"bottom",options:{},container:{object:'<ul id="noty_bottom_layout_container" />',selector:"ul#noty_bottom_layout_container",style:function(){e(this).css({bottom:0,left:"5%",position:"fixed",width:"90%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""}}(jQuery),function(e){e.noty.layouts.bottomCenter={name:"bottomCenter",options:{},container:{object:'<ul id="noty_bottomCenter_layout_container" />',selector:"ul#noty_bottomCenter_layout_container",style:function(){e(this).css({bottom:20,left:0,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),e(this).css({left:(e(window).width()-e(this).outerWidth(!1))/2+"px"})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(e){e.noty.layouts.bottomLeft={name:"bottomLeft",options:{},container:{object:'<ul id="noty_bottomLeft_layout_container" />',selector:"ul#noty_bottomLeft_layout_container",style:function(){e(this).css({bottom:20,left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&e(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(e){e.noty.layouts.bottomRight={name:"bottomRight",options:{},container:{object:'<ul id="noty_bottomRight_layout_container" />',selector:"ul#noty_bottomRight_layout_container",style:function(){e(this).css({bottom:20,right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&e(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(e){e.noty.layouts.center={name:"center",options:{},container:{object:'<ul id="noty_center_layout_container" />',selector:"ul#noty_center_layout_container",style:function(){e(this).css({position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var t=e(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");e("body").append(t),t.find(".i-am-closing-now").remove(),t.find("li").css("display","block");var n=t.height();t.remove(),e(this).hasClass("i-am-new")?e(this).css({left:(e(window).width()-e(this).outerWidth(!1))/2+"px",top:(e(window).height()-n)/2+"px"}):e(this).animate({left:(e(window).width()-e(this).outerWidth(!1))/2+"px",top:(e(window).height()-n)/2+"px"},500)}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(e){e.noty.layouts.centerLeft={name:"centerLeft",options:{},container:{object:'<ul id="noty_centerLeft_layout_container" />',selector:"ul#noty_centerLeft_layout_container",style:function(){e(this).css({left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var t=e(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");e("body").append(t),t.find(".i-am-closing-now").remove(),t.find("li").css("display","block");var n=t.height();t.remove(),e(this).hasClass("i-am-new")?e(this).css({top:(e(window).height()-n)/2+"px"}):e(this).animate({top:(e(window).height()-n)/2+"px"},500),window.innerWidth<600&&e(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(e){e.noty.layouts.centerRight={name:"centerRight",options:{},container:{object:'<ul id="noty_centerRight_layout_container" />',selector:"ul#noty_centerRight_layout_container",style:function(){e(this).css({right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var t=e(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");e("body").append(t),t.find(".i-am-closing-now").remove(),t.find("li").css("display","block");var n=t.height();t.remove(),e(this).hasClass("i-am-new")?e(this).css({top:(e(window).height()-n)/2+"px"}):e(this).animate({top:(e(window).height()-n)/2+"px"},500),window.innerWidth<600&&e(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(e){e.noty.layouts.inline={name:"inline",options:{},container:{object:'<ul class="noty_inline_layout_container" />',selector:"ul.noty_inline_layout_container",style:function(){e(this).css({width:"100%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""}}(jQuery),function(e){e.noty.layouts.top={name:"top",options:{},container:{object:'<ul id="noty_top_layout_container" />',selector:"ul#noty_top_layout_container",style:function(){e(this).css({top:0,left:"5%",position:"fixed",width:"90%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""}}(jQuery),function(e){e.noty.layouts.topCenter={name:"topCenter",options:{},container:{object:'<ul id="noty_topCenter_layout_container" />',selector:"ul#noty_topCenter_layout_container",style:function(){e(this).css({top:20,left:0,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),e(this).css({left:(e(window).width()-e(this).outerWidth(!1))/2+"px"})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(e){e.noty.layouts.topLeft={name:"topLeft",options:{},container:{object:'<ul id="noty_topLeft_layout_container" />',selector:"ul#noty_topLeft_layout_container",style:function(){e(this).css({top:20,left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&e(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(e){e.noty.layouts.topRight={name:"topRight",options:{},container:{object:'<ul id="noty_topRight_layout_container" />',selector:"ul#noty_topRight_layout_container",style:function(){e(this).css({top:20,right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&e(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(e){e.noty.themes.defaultTheme={name:"defaultTheme",helpers:{borderFix:function(){if(this.options.dismissQueue){var t=this.options.layout.container.selector+" "+this.options.layout.parent.selector;switch(this.options.layout.name){case"top":e(t).css({borderRadius:"0px 0px 0px 0px"}),e(t).last().css({borderRadius:"0px 0px 5px 5px"});break;case"topCenter":case"topLeft":case"topRight":case"bottomCenter":case"bottomLeft":case"bottomRight":case"center":case"centerLeft":case"centerRight":case"inline":e(t).css({borderRadius:"0px 0px 0px 0px"}),e(t).first().css({"border-top-left-radius":"5px","border-top-right-radius":"5px"}),e(t).last().css({"border-bottom-left-radius":"5px","border-bottom-right-radius":"5px"});break;case"bottom":e(t).css({borderRadius:"0px 0px 0px 0px"}),e(t).first().css({borderRadius:"5px 5px 0px 0px"});break;default:}}}},modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.6,display:"none",left:0,top:0}},style:function(){this.$bar.css({overflow:"hidden",background:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAoCAYAAAAPOoFWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAPZJREFUeNq81tsOgjAMANB2ov7/7ypaN7IlIwi9rGuT8QSc9EIDAsAznxvY4pXPKr05RUE5MEVB+TyWfCEl9LZApYopCmo9C4FKSMtYoI8Bwv79aQJU4l6hXXCZrQbokJEksxHo9KMOgc6w1atHXM8K9DVC7FQnJ0i8iK3QooGgbnyKgMDygBWyYFZoqx4qS27KqLZJjA1D0jK6QJcYEQEiWv9PGkTsbqxQ8oT+ZtZB6AkdsJnQDnMoHXHLGKOgDYuCWmYhEERCI5gaamW0bnHdA3k2ltlIN+2qKRyCND0bhqSYCyTB3CAOc4WusBEIpkeBuPgJMAAX8Hs1NfqHRgAAAABJRU5ErkJggg==') repeat-x scroll left top #fff"}),this.$message.css({fontSize:"13px",lineHeight:"16px",textAlign:"center",padding:"8px 10px 9px",width:"auto",position:"relative"}),this.$closeButton.css({position:"absolute",top:4,right:4,width:10,height:10,background:"url(data:image/png;base64,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)",display:"none",cursor:"pointer"}),this.$buttons.css({padding:5,textAlign:"right",borderTop:"1px solid #ccc",backgroundColor:"#fff"}),this.$buttons.find("button").css({marginLeft:5}),this.$buttons.find("button:first").css({marginLeft:0}),this.$bar.on({mouseenter:function(){e(this).find(".noty_close").stop().fadeTo("normal",1)},mouseleave:function(){e(this).find(".noty_close").stop().fadeTo("normal",0)}});switch(this.options.layout.name){case"top":this.$bar.css({borderRadius:"0px 0px 5px 5px",borderBottom:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});break;case"topCenter":case"center":case"bottomCenter":case"inline":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"center"});break;case"topLeft":case"topRight":case"bottomLeft":case"bottomRight":case"centerLeft":case"centerRight":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"left"});break;case"bottom":this.$bar.css({borderRadius:"5px 5px 0px 0px",borderTop:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.1)"});break;default:this.$bar.css({border:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"})}switch(this.options.type){case"alert":case"notification":this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"});break;case"warning":this.$bar.css({backgroundColor:"#FFEAA8",borderColor:"#FFC237",color:"#826200"}),this.$buttons.css({borderTop:"1px solid #FFC237"});break;case"error":this.$bar.css({backgroundColor:"red",borderColor:"darkred",color:"#FFF"}),this.$message.css({fontWeight:"bold"}),this.$buttons.css({borderTop:"1px solid darkred"});break;case"information":this.$bar.css({backgroundColor:"#57B7E2",borderColor:"#0B90C4",color:"#FFF"}),this.$buttons.css({borderTop:"1px solid #0B90C4"});break;case"success":this.$bar.css({backgroundColor:"lightgreen",borderColor:"#50C24E",color:"darkgreen"}),this.$buttons.css({borderTop:"1px solid #50C24E"});break;default:this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"})}},callback:{onShow:function(){e.noty.themes.defaultTheme.helpers.borderFix.apply(this)},onClose:function(){e.noty.themes.defaultTheme.helpers.borderFix.apply(this)}}}}(jQuery),function(e){e.noty.themes.freeTheme={name:"freeTheme",helpers:{borderFix:function(){if(this.options.dismissQueue){var t=this.options.layout.container.selector+" "+this.options.layout.parent.selector;switch(this.options.layout.name){case"top":e(t).css({borderRadius:"0px 0px 0px 0px"}),e(t).last().css({borderRadius:"0px 0px 5px 5px"});break;case"topCenter":case"topLeft":case"topRight":case"bottomCenter":case"bottomLeft":case"bottomRight":case"center":case"centerLeft":case"centerRight":case"inline":e(t).css({borderRadius:"0px 0px 0px 0px"}),e(t).first().css({"border-top-left-radius":"5px","border-top-right-radius":"5px"}),e(t).last().css({"border-bottom-left-radius":"5px","border-bottom-right-radius":"5px"});break;case"bottom":e(t).css({borderRadius:"0px 0px 0px 0px"}),e(t).first().css({borderRadius:"5px 5px 0px 0px"});break;default:}}}},modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.6,display:"none",left:0,top:0}},style:function(){this.$bar.css({overflow:"hidden"}),this.$message.css({width:"auto",position:"relative"}),this.$closeButton.css({position:"absolute",top:4,right:4,width:30,height:30,backgroundImage:"url('/Content/imgv3/picto/delete_small.png')",backgroundColor:"white",backgroundRepeat:"no-repeat",backgroundPosition:"center center",cursor:"pointer",display:"block",borderRadius:15,opacity:1}),this.$buttons.css({padding:5,textAlign:"right",borderTop:"1px solid #ccc",backgroundColor:"#fff"}),this.$buttons.find("button").css({marginLeft:5}),this.$buttons.find("button:first").css({marginLeft:0}),this.$bar.bind({mouseenter:function(){e(this).find(".noty_close").stop().fadeTo("normal",1)},mouseleave:function(){e(this).find(".noty_close").stop().fadeTo("normal",0)}});switch(this.options.layout.name){case"top":this.$bar.css({borderRadius:"0px 0px 5px 5px",borderBottom:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});break;case"topCenter":case"center":case"bottomCenter":case"inline":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"center"});break;case"topLeft":case"topRight":case"bottomLeft":case"bottomRight":case"centerLeft":case"centerRight":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"left"});break;case"bottom":this.$bar.css({borderRadius:"5px 5px 0px 0px",borderTop:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.1)"});break;default:this.$bar.css({border:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"})}switch(this.options.type){case"alert":case"notification":this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"});break;case"warning":this.$bar.css({backgroundColor:"#FFEAA8",borderColor:"#FFC237",color:"#826200"}),this.$buttons.css({borderTop:"1px solid #FFC237"});break;case"error":this.$bar.css({backgroundColor:"red",borderColor:"darkred",color:"#FFF"}),this.$message.css({fontWeight:"bold"}),this.$buttons.css({borderTop:"1px solid darkred"});break;case"information":this.$bar.css({backgroundColor:"#57B7E2",borderColor:"#0B90C4",color:"#FFF"}),this.$buttons.css({borderTop:"1px solid #0B90C4"});break;case"success":this.$bar.css({backgroundColor:"lightgreen",borderColor:"#50C24E",color:"darkgreen"}),this.$buttons.css({borderTop:"1px solid #50C24E"});break;default:this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"})}},callback:{onShow:function(){e.noty.themes.freeTheme.helpers.borderFix.apply(this)},onClose:function(){e.noty.themes.freeTheme.helpers.borderFix.apply(this)}}}}(jQuery),define("ToasterLib",function(){}),define("Shared/Common/ToasterHelper/main",["ToasterLib"],function(){var e="#catalob_sub_toaster",t=function(e){_.bindAll(this,"_start"),this._content=e.html(),this._delay=e.data("delay")||"3000",this._theme=e.data("theme")||"defaultTheme",this._position=e.data("position")||"bottomRight",this._type=e.data("type")||"Information",setTimeout(this._start,this._delay)};return t.prototype._start=function(){var e={text:this._content,layout:this._position,theme:this._theme,type:this._type,timeout:!1,maxVisible:1,closeWith:["button"],callback:{afterShow:function(){$.validator.unobtrusive.parse($("span.noty_text"))}}};noty(e)},t.bind=function(){$($(e).html()).each(function(){new t($(this))})},t}),define("Controller/Product/Page/main",["require","Modules/Common","Shared/Common/Modal/adult","Shared/Common/Modal/subscription","Shared/Common/userCounter","./Rate","./Download","./Description","./Comment","./Related","./ReaderAddOn","./Tracking","Shared/Community/Follow","Shared/Common/ToasterHelper"],function(e){var t=e("Shared/Common/Modal/subscription"),n=e("Shared/Common/Modal/adult"),r=e("Shared/Common/userCounter"),i=e("Shared/Community/Follow"),s=e("./ReaderAddOn"),o=e("./Rate"),u=e("./Related"),a=e("Shared/Common/ToasterHelper"),f=e("./Download"),l=e("./Comment"),c=e("./Tracking"),h=e("./Description"),p=function(e){this._options=e,new t,new n(this._options.hasAdultContent),new u,new o,new s(this._options),new f,new h,new l,new r(this._options),new i,new c(this._options),a.bind()};return p});